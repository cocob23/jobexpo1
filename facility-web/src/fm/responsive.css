/* ============================================
   RESPONSIVE STYLES FOR FM MODULE
   ============================================ */

/* TABLET SCREENS (≤768px) */
@media (max-width: 768px) {
  /* Ocultar logo en navbar en mobile */
  .navbar-center {
    display: none !important;
  }

  /* Ocultar cualquier logo en la navbar */
  nav img[alt="logo"],
  nav img[src*="logo"],
  nav img[alt="Logo empresa"],
  header img[alt="logo"],
  header img[src*="logo"],
  div[style*="position: fixed"] img[alt="logo"],
  div[style*="position: fixed"] img[src*="logo"] {
    display: none !important;
  }

  /* Logo en contenido (no navbar) */
  main img[alt="logo"],
  section img[alt="logo"] {
    max-width: 200px !important;
    height: auto !important;
  }

  /* FIX NAVBAR: Ajustar secciones de navbar en mobile */
  nav > div,
  nav div[style*="flex: 1"] {
    flex: none !important;
  }

  /* Sección izquierda: solo el botón Inicio */
  nav > div:first-child {
    flex: 0 0 auto !important;
  }

  /* Sección centro: ocultar completamente */
  nav > div:nth-child(2) {
    display: none !important;
  }

  /* Sección derecha: auto width, alineado a la derecha */
  nav > div:last-child {
    flex: 0 0 auto !important;
    margin-left: auto !important;
  }

  /* Botones de navbar más compactos en mobile */
  nav button {
    padding: 8px 12px !important;
    font-size: 13px !important;
    white-space: nowrap !important;
  }

  /* Botón "Volver" más pequeño y compacto */
  button[style*="backgroundColor: rgb(107, 115, 128)"],
  button[style*="background-color: rgb(107, 115, 128)"],
  button[style*="#6b7280"] {
    padding: 6px 10px !important;
    font-size: 12px !important;
    border-radius: 6px !important;
    max-width: 80px !important;
  }

  /* Title sizing */
  h1 {
    font-size: 1.5rem !important;
  }

  h2 {
    font-size: 1.3rem !important;
  }

  h3 {
    font-size: 1.1rem !important;
  }

  /* Button spacing for fixed back buttons */
  button[style*="position: fixed"],
  button[style*="position:fixed"] {
    top: 80px !important;
    left: 10px !important;
    padding: 8px 12px !important;
    font-size: 14px !important;
  }

  /* Input fields - prevent iOS zoom */
  input,
  textarea,
  select {
    font-size: 16px !important;
  }

  /* Main containers - ensure scroll works */
  div[style*="height: 100vh"],
  div[style*="height:100vh"] {
    height: auto !important;
    min-height: 100vh !important;
    padding-bottom: 100px !important;
  }

  /* Grid containers */
  div[style*="gridTemplateColumns"],
  div[style*="grid-template-columns"] {
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)) !important;
    gap: 12px !important;
  }

  /* Cards/Buttons */
  button[style*="display: flex"],
  div[style*="cursor: pointer"] {
    padding: 16px 12px !important;
    font-size: 14px !important;
  }

  /* Table responsiveness */
  table {
    font-size: 14px !important;
  }

  th, td {
    padding: 8px !important;
  }

  /* Wrapper with overflow hidden - fix scroll issue */
  div[style*="overflow: hidden"] {
    overflow: visible !important;
    height: auto !important;
    min-height: 100vh !important;
  }

  /* Container inside wrapper */
  div[style*="overflow: auto"] {
    overflow: visible !important;
    max-height: none !important;
    padding-bottom: 100px !important;
  }
}

/* SMALL MOBILE SCREENS (≤480px) */
@media (max-width: 480px) {
  /* Asegurar que logo de navbar esté oculto */
  nav img,
  header img,
  div[style*="position: fixed"] img {
    display: none !important;
  }

  /* Logo en contenido (no navbar) */
  main img[alt="logo"],
  section img[alt="logo"] {
    max-width: 160px !important;
  }

  /* Navbar padding reducido */
  nav {
    padding: 0 10px !important;
  }

  /* Botones de navbar aún más compactos */
  nav button {
    padding: 6px 10px !important;
    font-size: 12px !important;
  }

  /* Gap entre botones más pequeño */
  nav > div:last-child {
    gap: 6px !important;
  }

  /* Botón "Volver" extra compacto en móvil pequeño */
  button[style*="backgroundColor: rgb(107, 115, 128)"],
  button[style*="background-color: rgb(107, 115, 128)"],
  button[style*="#6b7280"] {
    padding: 5px 8px !important;
    font-size: 11px !important;
    border-radius: 5px !important;
    max-width: 70px !important;
  }

  /* Titles */
  h1 {
    font-size: 1.3rem !important;
  }

  h2 {
    font-size: 1.1rem !important;
  }

  h3 {
    font-size: 1rem !important;
  }

  /* Back button adjustments */
  button[style*="position: fixed"],
  button[style*="position:fixed"] {
    top: 75px !important;
    left: 8px !important;
    padding: 6px 10px !important;
    font-size: 13px !important;
  }

  /* Main containers - more bottom padding */
  div[style*="height: 100vh"],
  div[style*="height:100vh"] {
    padding-bottom: 120px !important;
  }

  /* Grid - single column for very small screens */
  div[style*="gridTemplateColumns"],
  div[style*="grid-template-columns"] {
    grid-template-columns: 1fr !important;
    gap: 10px !important;
  }

  /* Container padding */
  div[style*="padding"] {
    padding-left: 12px !important;
    padding-right: 12px !important;
  }

  /* Cards/Buttons */
  button[style*="display: flex"],
  div[style*="cursor: pointer"] {
    padding: 14px 10px !important;
    font-size: 13px !important;
  }

  /* Table scrolling */
  table {
    display: block !important;
    overflow-x: auto !important;
    white-space: nowrap !important;
    font-size: 12px !important;
  }

  th, td {
    padding: 6px !important;
  }

  /* Ensure wrapper allows scroll */
  div[style*="overflow: hidden"] {
    overflow: visible !important;
    padding-bottom: 120px !important;
  }
}

/* TOUCH DEVICES - Minimum touch target sizes */
@media (hover: none) and (pointer: coarse) {
  button,
  a,
  input[type="button"],
  input[type="submit"],
  div[style*="cursor: pointer"],
  div[onclick] {
    min-height: 44px !important;
    min-width: 44px !important;
    padding: 10px 14px !important;
  }

  /* Icon buttons */
  svg {
    min-width: 24px !important;
    min-height: 24px !important;
  }

  /* Links in tables */
  td button,
  td a {
    padding: 8px 12px !important;
  }
}

/* SPECIFIC FIX FOR SCROLL ISSUE */
@media (max-width: 768px) {
  /* Body and html must allow scroll */
  body, html {
    overflow: auto !important;
    height: auto !important;
  }

  /* Main wrapper should not hide overflow */
  body > div,
  #root,
  #root > div {
    overflow: visible !important;
    height: auto !important;
    min-height: 100vh !important;
  }

  /* Grid containers need visible overflow */
  [style*="maxHeight"],
  [style*="max-height"] {
    max-height: none !important;
    overflow: visible !important;
  }

  /* Ensure bottom padding for last elements */
  main,
  section,
  article {
    padding-bottom: 100px !important;
  }
}

/* ADDITIONAL FIXES FOR SCROLL */
@media (max-width: 768px) {
  /* Remove overflow hidden from body when FM is active */
  body[style*="overflow: hidden"] {
    overflow: auto !important;
  }

  /* Wrapper fix */
  div[style*="wrapper"] {
    overflow: visible !important;
    height: auto !important;
  }

  /* Grid should scroll naturally */
  div[style*="grid"][style*="overflow: auto"] {
    overflow: visible !important;
    max-height: none !important;
  }
}
